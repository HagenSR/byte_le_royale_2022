<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Server Documentation &mdash; Byte-le-Royale 2022 9 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/accordion.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/accordion.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Movement Controller" href="Movement_Controller.html" />
    <link rel="prev" title="My Title" href="test.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Byte-le-Royale 2022
          </a>
              <div class="version">
                Version 1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="test.html">My Title</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#important-info">Important Info!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#group-runs">Group runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-cool-features">Other cool features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-important-commands-that-you-need-to-know">The Important commands that you need to know!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#registering">Registering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#submiting-clients">submiting clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="#leaderboard">leaderboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-stats">view stats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#other-fun-commands">Other Fun Commands!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#note-on-output">Note on output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runs-for-group-run">runs for group run</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runs-for-submission">runs for submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-submissions">get submissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-group-runs">get group runs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-code-for-submission">get code for submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-errors-for-submission">get errors for submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-score-over-time">View score over time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-a-seed">Get a seed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#client-runner">Client Runner</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizer">Visualizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-schema">Database Schema</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Movement_Controller.html">Movement Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="Map.html">The Game Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="Partition Grid.html">Partition Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="Grenade.html">Grenade</a></li>
<li class="toctree-l1"><a class="reference internal" href="grenade_controller.html">Grenade Controller</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Byte-le-Royale 2022</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Server Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Server.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="server-documentation">
<h1>Server Documentation<a class="headerlink" href="#server-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="important-info">
<h2>Important Info!<a class="headerlink" href="#important-info" title="Permalink to this headline">¶</a></h2>
<p>There is a new server this year and it improves on the previous server in two major ways</p>
<ol class="arabic simple">
<li>More information is stored and kept in the database</li>
<li>You can access this information through the client</li>
</ol>
<p>This functionality is optional, and the below section highlights the commands you need to know</p>
<div class="section" id="group-runs">
<h3>Group runs<a class="headerlink" href="#group-runs" title="Permalink to this headline">¶</a></h3>
<p>Unlike previous years, clients will be run together at a distinct point in time, known as a group run. The
benefit to group runs is that you can fetch information relating to each group run (such as launcher version!)
and view your progress (or regression) over time!</p>
<p>The downside is that there is no “queue” like previous years, and you have to wait for the group run to complete
before your next client is run.</p>
</div>
<div class="section" id="other-cool-features">
<h3>Other cool features<a class="headerlink" href="#other-cool-features" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>HTTPS!</li>
<li><dl class="first docutils">
<dt>Rate Limiting!</dt>
<dd><ol class="first last arabic">
<li>Note that the default rate limit is 1 / second</li>
</ol>
</dd>
</dl>
</li>
<li>Seed downloading!</li>
<li>Client Downloading!</li>
<li>SQL!</li>
<li>ASCII table and CSV output!</li>
</ol>
</div>
</div>
<div class="section" id="the-important-commands-that-you-need-to-know">
<h2>The Important commands that you need to know!<a class="headerlink" href="#the-important-commands-that-you-need-to-know" title="Permalink to this headline">¶</a></h2>
<div class="section" id="registering">
<h3>Registering<a class="headerlink" href="#registering" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 10 / hour</strong></p>
<p>Registering is required to recieve your VID ( Don’t share with anyone!) which in turn allows you to submit clients and view
team specific information. If your teamates wish to upload to the server, you’ll have to send them the vID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="o">-</span><span class="n">register</span>
</pre></div>
</div>
<p>you will then be prompted to enter information</p>
</div>
<div class="section" id="submiting-clients">
<h3>submiting clients<a class="headerlink" href="#submiting-clients" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 1/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="o">-</span><span class="n">submit</span>
</pre></div>
</div>
<p>Once you’ve registered, you can submit your client. At least one client must be submitted by 10pm to be elligible to win. The server will automatically look for files in the
root directory that contain the word ‘client’. Otherwise, you can manually select the file. Once you’ve confirmed the file, it will be uploaded to the server and
then run against other clients to determine placing. Feel free to submit as many times as you like, but please refrain from excessive uploads.</p>
</div>
<div class="section" id="leaderboard">
<h3>leaderboard<a class="headerlink" href="#leaderboard" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">leaderboard</span>
</pre></div>
</div>
<p>Returns the leaderboard for elligible contestants. Alumni will want to run the command</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">leaderboard</span> <span class="o">-</span><span class="n">include_alumni</span>
</pre></div>
</div>
<p>Also note you can retrieve the leaderboard for previous group runs using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">leaderboard</span> <span class="o">-</span><span class="n">group_id</span> <span class="o">&lt;</span><span class="n">group_run_id</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="view-stats">
<h3>view stats<a class="headerlink" href="#view-stats" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span>
</pre></div>
</div>
<p>Returns stats relating to your submissions(s). All stats relate to your most recent submission. Please note that the stats will continue to change until all
runs are completed.</p>
</div>
</div>
<div class="section" id="other-fun-commands">
<h2>Other Fun Commands!<a class="headerlink" href="#other-fun-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="note-on-output">
<h3>Note on output<a class="headerlink" href="#note-on-output" title="Permalink to this headline">¶</a></h3>
<p>Some of the tables from the commands can be quite large. You can write these large results to a file using the &gt; opperator. EX:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">runs_for_group_run</span> <span class="o">&lt;</span><span class="n">group_id</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>You can also specify csv output if desired by passing the -csv flag to the server parser. EX:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="o">-</span><span class="n">csv</span> <span class="n">leaderboard</span> <span class="o">&gt;</span> <span class="n">output</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
</div>
<div class="section" id="runs-for-group-run">
<h3>runs for group run<a class="headerlink" href="#runs-for-group-run" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">runs_for_group_run</span> <span class="o">&lt;</span><span class="n">group_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Returns all of a team’s runs for a given group run</p>
</div>
<div class="section" id="runs-for-submission">
<h3>runs for submission<a class="headerlink" href="#runs-for-submission" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">runs_for_submission</span> <span class="o">&lt;</span><span class="n">submission_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Returns all of the runs for a given submission</p>
</div>
<div class="section" id="get-submissions">
<h3>get submissions<a class="headerlink" href="#get-submissions" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">get_submissions</span>
</pre></div>
</div>
<p>Returns all of the submissions for a team</p>
</div>
<div class="section" id="get-group-runs">
<h3>get group runs<a class="headerlink" href="#get-group-runs" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">get_group_runs</span>
</pre></div>
</div>
<p>Returns all of the group runs a team participated in</p>
</div>
<div class="section" id="get-code-for-submission">
<h3>get code for submission<a class="headerlink" href="#get-code-for-submission" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 1/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">get_code_for_submission</span> <span class="o">&lt;</span><span class="n">submission_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Returns code for a given submission</p>
</div>
<div class="section" id="get-errors-for-submission">
<h3>get errors for submission<a class="headerlink" href="#get-errors-for-submission" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 1/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">stats</span> <span class="o">-</span><span class="n">get_errors_for_submission</span> <span class="o">&lt;</span><span class="n">submission_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Returns errors for a given submission</p>
</div>
<div class="section" id="view-score-over-time">
<h3>View score over time<a class="headerlink" href="#view-score-over-time" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 5/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">leaderboard</span> <span class="o">-</span><span class="n">over_time</span>
</pre></div>
</div>
<p>Returns your team’s placing and total wins for each group run</p>
</div>
<div class="section" id="get-a-seed">
<h3>Get a seed<a class="headerlink" href="#get-a-seed" title="Permalink to this headline">¶</a></h3>
<p><strong>Rate Limit: 1/minute</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">launcher</span><span class="o">.</span><span class="n">pyz</span> <span class="n">client</span> <span class="n">get_seed</span> <span class="o">-</span><span class="n">run_id</span> <span class="o">&lt;</span><span class="n">run_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Downloads a given seed for a run. Not very helpful for this year’s PvP competition, but you can imagine the
possibilities in a PvE competition!</p>
</div>
</div>
<div class="section" id="client-runner">
<h2>Client Runner<a class="headerlink" href="#client-runner" title="Permalink to this headline">¶</a></h2>
<p>After your client has been uploaded to the server, it will be periodically ran against other clients to determine who has the best client.
This is done by the Client Runner, Which has the following flow:</p>
<ol class="arabic simple">
<li>If there are more than two clients, the program runs</li>
<li>Four seeds are generated</li>
<li>Each seed is uploaded to the server</li>
<li>Every team plays every other team on each seed twice, with one client going first each time</li>
<li><dl class="first docutils">
<dt>If the games are interupted by an error, all results will be deleted.</dt>
<dd><ol class="first last arabic">
<li>Note that if a client throws an error, that client loses and the results are still valid</li>
<li>It is also possible for clients to tie by dying on the same turn</li>
</ol>
</dd>
</dl>
</li>
<li>The logs for the first winning game for each team are saved, and then played on the visualizer</li>
<li>Process ends, waits a bit, and then repeats</li>
</ol>
<p>The deterministic behavior of the game has been confirmed. IE if every team uploads the same client, they all tie with the same number of wins.</p>
</div>
<div class="section" id="visualizer">
<h2>Visualizer<a class="headerlink" href="#visualizer" title="Permalink to this headline">¶</a></h2>
<p>To allow participants to have an idea of what stratagies teams are persuing, Logs from the client runner will be played on the twitch stream.
It follows the following flow:</p>
<ol class="arabic simple">
<li>Visualizer checks if there are new game logs to played</li>
<li>If so, the latest logs are played</li>
<li>The visualizer waits a bit</li>
<li>Process repeats.</li>
</ol>
<p>This does mean that some logs may never be played if playing all of the logs takes too long for the visualizer. It may also be prudent for the Dev team to
restart the program so the most recent logs are played.</p>
</div>
<div class="section" id="database-schema">
<h2>Database Schema<a class="headerlink" href="#database-schema" title="Permalink to this headline">¶</a></h2>
<p>If you’re confused about the schema of the database, the below ERD diagram is provided. Note that all foriegn keys have cascading deletes.
(It’s a bit ugly, but this is what the auto format likes and I can’t do it better)</p>
<a class="reference internal image-reference" href="_images/ERD.png"><img alt="ERD" src="_images/ERD.png" style="width: 400px;" /></a>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="test.html" class="btn btn-neutral float-left" title="My Title" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Movement_Controller.html" class="btn btn-neutral float-right" title="Movement Controller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1970-2100, NDSU ACM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>